<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VitaDAO workers API</title>
  </head>
  <body style="max-width: 600px">
    <h1>VitaDAO workers API</h1>
    <p>Direct fetching from Transpose fails with 502:</p>
    <ul>
      <li>
        <a href="/history">history</a>: a timeseries of the total USD balance of
        vitadao.eth's multisig. One data point per day.
      </li>
      <li>
        <a href="/stats">stats</a>: circulating supply (currently total supply)
        of VITA and its market cap.
      </li>
      <li>
        <a href="/tokens">tokens</a>: list of tokens currently in vitadao.eth
        and some data about each token.
      </li>
    </ul>
    <p>Fetching through a proxy on Deno works:</p>
    <ul>
      <li>
        <a href="/proxy-history">proxy-history</a>: a timeseries of the total
        USD balance of vitadao.eth's multisig. One data point per day.
      </li>
      <li>
        <a href="/proxy-stats">proxy-stats</a>: circulating supply (currently
        total supply) of VITA and its market cap.
      </li>
      <li>
        <a href="/proxy-tokens">proxy-tokens</a>: list of tokens currently in
        vitadao.eth and some data about each token.
      </li>
    </ul>
    <p>Caching tests:</p>
    <ul>
      <li>
        <a href="/random">random</a>: a random beer fetched from
        random-data-api.com, cached for 60 seconds on Cloudflare. I.e. you
        should get a new beer only every minute, not on every request. The
        purpose of this endpoint is to test that the caching works (which it
        does, across Cloudflare datacenters).
      </li>
      <li>
        <a href="/count/post">/count/post</a>: POSTs to
        post-receiver.raulrpearson.workers.dev and returns the response. That
        service will increment count on POST and just return the unincremented
        count on GET. This endpoint will serve to validate a caching strategy
        for POST requests.
      </li>
      <li>
        <a href="/count/get">/count/get</a>: GETs
        post-receiver.raulrpearson.workers.dev and returns the response. That
        service will increment count on POST and just return the unincremented
        count on GET.
      </li>
    </ul>
  </body>
</html>
